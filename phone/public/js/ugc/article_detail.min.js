$(".content").css({
    height: ($(window).height() - 52) + "px"
});
var bannerHeight = $(window).width() * 0.54;
$(".banner-img").css("height", bannerHeight + "px");
$("#banner-video").css("height", bannerHeight + "px");
function sureToRelease() {
    $(".loading").html("正在处理");
    $("#loading").show();
    $.ajax({
        url: "/wechat/article/suretorelease",
        type: "POST",
        dataType: "json",
        data: {
            article_id: article_id,
        },
    }).done(function(a) {
        console.log(a);
        if (a.status == 1) {
            $(".loading").html("正在跳转");
            window.location.href = a.url
        } else {
            $("#loading").hide();
            popLayer({
                title: "温馨提示",
                btnsName: "确定",
                btnsCallback: "closePopLayer()",
                content: '<div class="text-center">发布失败，请稍候再试！</div>',
            })
        }
    }).fail(function() {
        $("#loading").hide();
        popLayer({
            title: "温馨提示",
            btnsName: "确定",
            btnsCallback: "closePopLayer()",
            content: '<div class="text-center">请求失败，请稍候再试！</div>',
        })
    })
}
function backToEdit() {
    $(".loading").html("正在返回");
    $("#loading").show();
    window.location.href = editUrl
}
function like(a) {
    if (user_subscribe != 1) {
        $("#subusModal").modal("show");
        return
    }
    $.ajax({
        url: '/phone/notes/ajax_like',
        type: "POST",
        dataType: "json",
        data: {
            article_id: article_id,
            wxoid: openId
        },
    }).done(function(b) {
        console.log(b);
        if (b.status>0) {
            if (b.status==1){
                $("#likeNum").prev().attr("src", "/phone/public/images/wechat/article/good2_g.png");
                $("#likeNum").html(parseInt($("#likeNum").html()) + 1)
            }else{
                $("#likeNum").prev().attr("src", "/phone/public/images/wechat/article/good2.png");
                $("#likeNum").html(parseInt($("#likeNum").html()) - 1)
            }
        } else {
            popLayer({
                title: "温馨提示",
                btnsName: "确定",
                btnsCallback: "closePopLayer()",
                content: '<div class="text-center">操作失败，请稍候再试！</div>',
            })
        }
    }).fail(function() {
        popLayer({
            title: "温馨提示",
            btnsName: "确定",
            btnsCallback: "closePopLayer()",
            content: '<div class="text-center">请求失败，请稍候再试！</div>',
        })
    })
}
function jumpToComments() {
    $(".content").scrollTop($(".comments").offset().top)
}
$("#footerSendBtn").click(function(a) {
    a.stopPropagation();
    a.preventDefault();
    clearTimeout(blurtime);
    $("#footerReplyForm").submit()
});
function showReplyModal() {
    if (user_subscribe != 1) {
        $("#subusModal").modal("show");
        return
    }
    if (arguments[0] == 1) {
        $(".reply-modal-btns>.uploadImgBox").hide()
    } else {
        $(".reply-modal-btns>.uploadImgBox").show()
    }
    $("body").bind("touchmove",
        function(a) {
            a.preventDefault()
        });
    $("#replyModal").show();
    $("#replyContent").focus();
    $("#replyModal").animate({
        opacity: "1"
    });
    $(".reply-modal-body").animate({
        top: "0"
    })
}
function hideReplyModal() {
    $("#replyContent").blur();
    $(".reply-modal-body").animate({
        top: ( - replyContentHeight) + "px"
    });
    $("#replyModal").animate({
            opacity: "0"
        },
        function() {
            $(".reply-modal-btn.submit button").html("发送");
            $("#replyModal").hide();
            hiddenReply(1);
            $("body").unbind("touchmove")
        })
}
function showReply(d, g, b, c, e, a) {
    $("#replyContent").attr("placeholder", "说点儿什么吧~");
    $("#replyContent").val("");
    var f = "";
    if (d > 0) {
        f += "回复 "
    }
    if (a > 0) {
        f += " " + $(e).attr("replyname")
    }
    if (f != "") {
        $("#replyContent").attr("placeholder", f + "：")
    }
    $("#replyFloor").val(d);
    $("#replyParentId").val(g);
    $("#replyId").val(b);
    $("#replyHikerId").val(c);
    showReplyModal(1)
}
function hiddenReply(a) {
    $("#replyFloor").val(0);
    $("#replyParentId").val(0);
    $("#replyId").val(0);
    $("#replyHikerId").val(0);
    $("#replyContent").val("");
    $("#replyContent").attr("placeholder", "说点儿什么吧~");
    if (a == 1) {
        $("#replyContent").blur()
    }
}
function submitForm() {
    reply();
    return false
}
function reply() {
    if (user_subscribe != 1) {
        $("#subusModal").modal("show");
        return
    }
    $(".reply-modal-btn.submit button").attr("type", "button");
    $(".reply-modal-btn.submit button").addClass("is-submit");
    $(".reply-modal-btn.submit button").html('<img class="submit-loading" src="/images/wechat/loading.png" style="height:16px;">');
    $("#replyContent").focus();
    var b = $.trim($("#replyContent").val());
    if (b == "") {
        loadingMsg("评论内容不能为空", 1, 1000);
        return
    }
    if (b.length > 1000) {
        loadingMsg("评论内容过长啦~", 1, 1000);
        return
    }
    var d = $("#replyFloor").val();
    var f = $("#replyParentId").val();
    var a = $("#replyId").val();
    var c = $("#replyHikerId").val();
    var e = $("#replyImageIpt").val();
    if (a > 0) {
        e = ""
    }
    $.ajax({
        url: "/phone/member/comment/ajax_notes",
        type: "POST",
        dataType: "json",
        data: {
            article_id: article_id,
            parent_id: f,
            parent_hiker_id: c,
            root_id: a,
            content: b,
            image: e,
            wxoid: openId
        },
    }).done(function(g) {
        console.log(g);
        $(".reply-modal-btn.submit button").attr("type", "submit");
        $(".reply-modal-btn.submit button").removeClass("is-submit");
        $(".reply-modal-btn.submit button").html('<img src="/phone/public/images/wechat/success.png" style="height:16px;">');
        hideReplyModal();
        $("#replyContent").blur();
        popLayer({
            title: "温馨提示",
            btnsName: "确定",
            btnsCallback: "closePopLayer()",
            content: g.msg,
        })
        // setTimeout(function() {
        //         $("#replyContent").blur();
        //         hideReplyModal();
        //         if (g.status == 1) {
        //             if (a == 0) {
        //                 if ($(".comment").length == 0) {
        //                     isCanGetComments = false
        //                 }
        //                 $(".no-comment").remove();
        //                 var i = [];
        //                 var l = g.floor;
        //                 firstCommentsCount++;
        //                 addComment(l, g.data.hiker["headImgUrl"], g.data.hiker["nickname"], g.data.create_date, g.data.id, g.data.hiker_id, g.data.content, i, 1, myIndexUrl, 0, [], g.data.img)
        //             } else {
        //                 var h = firstCommentsCount - d;
        //                 $(".comment").eq(h).find(".comment-replys").show();
        //                 var k = '<div class="comment-reply" replyname="' + g.data.hiker["nickname"] + '" onclick="showReply( ' + d + ", " + g.data.id + ", " + g.data.root_id + ", " + g.data.hiker_id + ', this, 1 );">';
        //                 k += "<span>" + g.data.hiker["nickname"] + "</span>";
        //                 if (g.data.hiker_id != g.data.parent_hiker_id) {
        //                     k += "&nbsp;回复&nbsp;<span>" + g.data.parentHiker["nickname"] + "</span>"
        //                 }
        //                 k += "：" + g.data.content + "";
        //                 k += "</div>";
        //                 var j = $(".comment").eq(h).find(".comment-replys .comment-reply").length;
        //                 if (j <= 0) {
        //                     var m = '<div class="comment-replys-icon"><img src="/images/wechat/article/triangle2.png" style="height:12px; display:block;"></div>';
        //                     $(".comment").eq(h).find(".comment-replys").before(m)
        //                 }
        //                 $(".comment").eq(h).find(".comment-replys").append(k)
        //             }
        //             commentsCount++;
        //             $("#commentsCountDiv").html("全部评论(" + commentsCount + "条)");
        //             $("#commentNum").html(commentsCount);
        //             $("#items").css("height", ($(".end").height() + 10) + "px")
        //         } else {
        //             popLayer({
        //                 title: "温馨提示",
        //                 btnsName: "确定",
        //                 btnsCallback: "closePopLayer()",
        //                 content: '<div class="text-center">发送失败，请稍候再试！</div>',
        //             })
        //         }
        //     },
        //     1000)
    }).fail(function() {
        $(".reply-modal-btn.submit button").attr("type", "submit");
        $(".reply-modal-btn.submit button").removeClass("is-submit");
        $(".reply-modal-btn.submit button").html("发送");
        $("#replyContent").blur();
        popLayer({
            title: "温馨提示",
            btnsName: "确定",
            btnsCallback: "closePopLayer()",
            content: '<div class="text-center">请求失败，请稍候再试！</div>',
        })
    })
}
function addComment(m, d, i, a, c, h, j, n, g, b, k, l, f) {
    var e = '<div class="comment flex-div" id="comment' + c + '" data-id="' + c + '">';
    e += '<div style="width:15%;">';
    e += '<a href="' + b + '">';
    e += '<img class="img-circle comment-img" src="' + d + '" width="40" height="40">';
    e += "</a>";
    e += "</div>";
    e += '<div style="width:85%; line-height:22px;">';
    e += '<div style="position:relative;">';
    e += '<div class="marks">';
    $.each(l,
        function(o, p) {
            e += '<div class="mark" data-id="' + p.id + '">';
            e += '<img class="mark-img" src="' + p.img + '" style="width:100%;">';
            e += "</div>"
        });
    e += "</div>";
    e += '<div class="comment-main">';
    e += '<div class="comment-hiker">';
    e += "<div>";
    e += i;
    e += '<div class="pull-right flex-single">';
    if ($(".mark-set").length > 0 && isM) {
        e += '<div class="show-mark ' + (k >= 3 ? "not-mark": "") + '" onclick="' + (k < 3 ? "showMarks(this);": "showCannotMarks();") + '" data-floor="' + m + '" data-comment-id="' + c + '">';
        if (k == 1) {
            e += "继续戳"
        } else {
            if (k == 2) {
                e += "还要戳"
            } else {
                if (k == 3) {
                    e += "戳太多啦"
                } else {
                    e += "我戳"
                }
            }
        }
        e += "</div>"
    }
    e += '<div class="reply-show" replyname="' + i + '" onclick="showReply( ' + m + ", " + c + ", " + c + ", " + h + ', this, 1 );">回复</div>';
    e += "</div>";
    e += "</div>";
    e += '<div style="color:#888; font-size: 12px;">' + a + "</div>";
    e += "</div>";
    e += '<div class="comment-content" replyname="' + i + '" onclick="showReply( ' + m + ", " + c + ", " + c + ", " + h + ', this, 1 );">' + j;
    if (f) {
        e += '<div class="commentImg" style="background-image: url(' + f + ');" onclick="showImages(this)" data-url="' + f + '"></div>'
    }
    e += "</div>";
    e += "</div>";
    e += "</div>";
    e += '<div class="comment-replys-icon" ' + (n.length <= 0 ? 'style="display:none;"': "") + ">";
    e += '<img src="/images/wechat/article/triangle.png" style="height:12px; display:block;">';
    e += "</div>";
    if (n.length > 0) {
        e += '<div class="comment-replys">';
        e += '<div class="left-circle"></div>';
        $.each(n,
            function(o, p) {
                e += '<div onclick="showReply( ' + m + ", " + n[o]["id"] + ", " + n[o]["root_id"] + ", " + n[o]["hiker_id"] + ', this, 1 );" replyname="' + n[o]["hiker"]["nickname"] + '" class="comment-reply">';
                e += "<span>" + n[o]["hiker"]["nickname"] + "</span>";
                if (n[o]["hiker_id"] != n[o]["parent_hiker_id"]) {
                    e += "&nbsp;回复&nbsp;<span>" + n[o]["parentHiker"]["nickname"] + "</span>"
                }
                e += "：" + n[o]["content"];
                e += "</div>"
            });
        e += "</div>"
    } else {
        e += '<div class="comment-replys" style="display:none;"><div class="left-circle"></div></div>'
    }
    e += "</div>";
    e += "</div>";
    if (g == 1) {
        $("#commentsCountDiv").after(e);
        adjustMarksPosition(0, 1)
    }
    if (g == 2) {
        $(".comments").append(e);
        adjustMarksPosition(($(".comment").length - 1), 1)
    }
}
var isGetting = false;
var isEnd = false;
$(document).ready(function() {
    $(".content").scroll(function() {
        var b = $(".content").scrollTop();
        doRemember(b);
        if (isGetting || isEnd || noComments) {
            return false
        }
        var a = $(this).scrollTop();
        if (a + $(".content").height() > $(".content-main").height() - $(".content").height()) {
            isGetting = true;
            page++;
            $(".comments-loading").show();
            $.ajax({
                url: "/phone/notes/ajax_get_comment",
                type: "POST",
                dataType: "json",
                data: {
                    article_id: article_id,
                    page: page,
                },
            }).done(function(d) {
                console.log(d);
                isGetting = false;
                $(".comments-loading").hide();
                if (d.count > 0) {
                    var c = firstCommentsCount - $(".comment").length;
                    $.each(d.articleComments,
                        function(e, g) {
                            var f = c--;
                            addComment(f, g.hiker["headImgUrl"], g.hiker["nickname"], g.create_date, g.id, g.hiker_id, g.content, g.lastComments, 2, g.url, g.my_count, g.marks, "")
                        })
                }
                if (d.articleComments.length < 10) {
                    isEnd = true;
                    $(".comments").append('<div class="no-comments text-center">没有更多评论了</div>')
                }
                $("#items").css("height", ($(".end").height() + 10) + "px")
            }).fail(function() {
                $(".comments-loading").hide();
                isGetting = false
            })
        }
    });
    if (isJumpComment) {
        jumpComment()
    } else {
        if (Math.ceil(thisTopItemId) > 0) {
            $(".content").scrollTop($(".item-desc[data-id=" + thisTopItemId + "]").offset().top - $(".content").height() / 2 + $(".content").height() * 0.4);
            doRemember(($(".content").scrollTop() - $(".content").height() * 0.4))
        } else {
            if (Math.ceil(thisTopItemId) == -1) {
                $(".content").scrollTop($(".end").offset().top);
                doRemember($(".content").scrollTop())
            } else {
                if (Math.ceil(thisTopItemId) == -2) {
                    $(".content").scrollTop($(".comments").offset().top);
                    doRemember($(".content").scrollTop())
                } else {
                    $(".content").scrollTop(0);
                    doRemember(0)
                }
            }
        }
    }
});
$(document).ready(function() {
    $(".scrollLoading").scrollLoading({
        container: $(".content")
    })
});
function showAppreciateModal() {
    if (user_subscribe != 1) {
        $("#subusModal").modal("show");
        return
    }
    $("body").bind("touchmove",
        function(a) {
            a.preventDefault()
        });
    $(".appreciate-modal").addClass("showing")
}
function hideAppreciateModal() {
    $("body").unbind("touchmove");
    $(".appreciate-modal").removeClass("showing")
}
function follow(c) {
    if (user_subscribe != 1) {
        $("#subusModal").modal("show");
        return
    }
    var a = $(c).attr("follow-status");
    var b = $(c).data("tollowtype");
    $.ajax({
        url: "/phone/member/fans/ajax_attention",
        type: "POST",
        dataType: "json",
        data: {
            to_hiker_id: articleHikerId,
            status: a,
        },
    }).done(function(d) {
        console.log(d);
        if (d.status) {
            if(d.status==1){
                $(c).html('已关注')
            }else{
                $(c).html('+ 关注')
            }
        } else {
            popLayer({
                title: "温馨提示",
                btnsName: "确定",
                btnsCallback: "closePopLayer()",
                content: '<div class="text-center">无法关注，请稍候再试！</div>',
            })
        }
    }).fail(function(d) {
        popLayer({
            title: "温馨提示",
            btnsName: "确定",
            btnsCallback: "closePopLayer()",
            content: '<div class="text-center">请求失败，请稍候再试！' + JSON.stringify(d, null, 1) + "</div>",
        })
    })
}
function addAppreciate() {
    if (isAddAppreciate) {
        return false
    }
    var a = "";
    a += '<div class="appreciate-hiker">';
    a += '<img class="img-circle comment-img" src="' + readerHeadImgUrl + '" width="35" height="35">';
    a += "</div>";
    $("#appreciateHikers").append(a);
    $("#appreciateHikers").show();
    isAddAppreciate = true
}
var wxparams;
function jsApiCall() {
    wx.ready(function() {
        WeixinJSBridge.invoke("getBrandWCPayRequest", wxparams,
            function(b) {
                $(".loading").html("");
                $("#loading").hide();
                if (b.err_msg == "get_brand_wcpay_request:ok") {
                    addAppreciate();
                    var a = $("#appreciateNum").data("num");
                    $("#appreciateNum").html((a + 1) + "人已赞赏");
                    hideAppreciateModal()
                } else {
                    if (b.err_msg != "get_brand_wcpay_request:cancel") {
                        alert("err_code=" + b.err_code + ", err_desc=" + b.err_desc + ", err_msg=" + b.err_msg);
                        $("#payBtn").removeAttr("disabled")
                    } else {
                        $("#payBtn").removeAttr("disabled")
                    }
                }
            })
    })
}
function callpay() {
    if (typeof WeixinJSBridge == "undefined") {
        if (document.addEventListener) {
            document.addEventListener("WeixinJSBridgeReady", jsApiCall, false)
        } else {
            if (document.attachEvent) {
                document.attachEvent("WeixinJSBridgeReady", jsApiCall);
                document.attachEvent("onWeixinJSBridgeReady", jsApiCall)
            }
        }
    } else {
        jsApiCall()
    }
}
function appreciate(c) {
    var b = $(c).data("money");
    var a = $(c).data("index");
    $(".loading").html("正在请求");
    $("#loading").show();
    $.ajax({
        url: "/wechat/article/appreciate",
        type: "POST",
        dataType: "json",
        data: {
            moneyIdx: a,
            article_id: article_id,
        },
    }).done(function(d) {
        console.log("success");
        if (d.errcode == 0) {
            wxparams = d.data;
            callpay()
        } else {
            alert(d.errcode + " " + d.errmsg)
        }
        $("#loading").hide()
    }).fail(function() {
        console.log("error");
        $("#loading").hide()
    })
}
function showEditModal(a) {
    $("body").bind("touchmove",
        function(b) {
            b.preventDefault()
        });
    $(".show-edit-btn").removeClass("hide-running");
    $(".show-edit-btn").addClass("show-running");
    $("#editModal").removeClass("hiding");
    $("#editModal").removeClass("opacity-hide");
    $("#editModal").addClass("opacity-show")
}
function hideEditModal(a) {
    $("body").unbind("touchmove");
    $(".show-edit-btn").removeClass("show-running");
    $(".show-edit-btn").addClass("hide-running");
    $("#editModal").removeClass("opacity-show");
    $("#editModal").addClass("opacity-hide");
    setTimeout(function() {
            $("#editModal").addClass("hiding")
        },
        500)
}
function loadingMsg(c, a, b) {
    if (c == undefined) {
        c = "loadingMsg error: msg undefined";
        a = true;
        b = 1000
    }
    $(".loading").html(c);
    $("#loading").show();
    if (a == true) {
        $(".loading").css({
            backgroundSize: 0,
            paddingTop: "15px"
        })
    } else {
        $(".loading").css({
            backgroundSize: "35px",
            paddingTop: "60px"
        })
    }
    if (!isNaN(b)) {
        hideLoading(b)
    }
}
function hideLoading(a) {
    setTimeout(function() {
            $("#loading").hide()
        },
        a)
}
function updateFloor() {}
function doRemember(b) {
    var a = b + $(".content").height() / 2;
    $(".item-desc").each(function(d, e) {
        var c = b + $(this).offset().top;
        if (c <= a && c >= b) {
            thisTopItemId = $(this).data("id");
            return false
        }
    });
    if ($(".comments").offset().top <= $(".content").height() / 2) {
        thisTopItemId = "-2"
    } else {
        if ($(".end").offset().top <= $(".content").height() / 2) {
            thisTopItemId = "-1"
        } else {
            if ($(".items-desc").offset().top > $(".content").height() / 2) {
                thisTopItemId = "0"
            }
        }
    }
    $("#article_read_item").html("当前ITEM：" + thisTopItemId);
    addCookie("article" + articleId + "_read_item", thisTopItemId, 0)
}
function showMarks(c) {
    var b = $(c).data("floor");
    var a = $(c).data("commentId");
    $("#mark_floor").val(b);
    $("#mark_comment_id").val(a);
    $(".mark-list").show();
    $(".mark-list").stop().animate({
            opacity: "1",
            bottom: "0"
        },
        "500")
}
function hideMarkList() {
    $(".mark-list").stop().animate({
            opacity: "0",
            bottom: "-80px"
        },
        "500",
        function() {
            $(".mark-list").hide()
        })
}
var isSettingMark = false;
function setMark(b) {
    if (isSettingMark) {
        return false
    }
    isSettingMark = true;
    $(".animate-gif").remove();
    var c = $(b).data("id");
    var a = $("#mark_comment_id").val();
    $.ajax({
        url: "/wechat/article/savecommentmark",
        type: "POST",
        dataType: "json",
        data: {
            id: c,
            comment_id: a,
            wxoid: wxoid
        },
    }).done(function(f) {
        console.log(f);
        isSettingMark = false;
        if (f.status == 1) {
            if (f.count == 1) {
                $("#comment" + a + " .show-mark").html("继续戳")
            }
            if (f.count == 2) {
                $("#comment" + a + " .show-mark").html("还要戳")
            }
            if (f.count == 3) {
                $("#comment" + a + " .show-mark").html("戳太多啦");
                $("#comment" + a + " .show-mark").addClass("not-mark");
                $("#comment" + a + " .show-mark").attr("onclick", "showCannotMarks();")
            }
            var k = $(b).data("img");
            var l = $("#mark_floor").val();
            var m = $("#comment" + a + " .mark").length;
            var d = commentLastMarks[a];
            var h = parseFloat($("#comment" + a + " .commentImg").height()) * parseFloat($("#comment" + a + " .comment-main").width());
            if (isNaN(h)) {
                h = 0
            }
            var i = parseFloat($("#comment" + a + " .comment-main").height()) - h;
            var e = RandomNumBoth(0, markWidth / 2);
            var g = 0;
            if (d) {
                e = d.left;
                g = RandomNumBoth(markWidth / 2, markWidth * 1.5)
            }
            console.log(d);
            var j = e + g;
            if (j > ($(window).width() - 20) * 0.85 + 10) {
                j = RandomNumBoth(0, markWidth / 2)
            }
            var n = RandomNumBoth( - 12, i - markWidth / 2);
            g = RandomNumBoth(markWidth / 2, markWidth * 1.5);
            var o = 0;
            if ($.inArray(c, notRotateMarks) == -1) {
                o = RandomNumBoth( - 60, 60)
            }
            commentLastMarks[a] = {
                top: n,
                left: j,
                rotate: o,
                addLeft: g
            };
            hideMarkList();
            setTimeout(function() {
                    if (device == 2 || device == 3) {
                        var r = '<div class="animate-gif" style="top:' + (n - 320) + "px; left:" + (j - 300) + 'px;"></div>';
                        $("#comment" + a + " .comment-main").append(r);
                        var q = 1;
                        var p = setInterval(function() {
                                if (q <= 35) {
                                    var t = "/phone/public/images/ugc/animate4/animate_" + q + ".png";
                                    $(".animate-gif").css("background-image", "url(" + t + ")");
                                    q++
                                } else {
                                    clearInterval(p);
                                    $(".animate-gif").remove()
                                }
                                if (q == 15) {
                                    var s = '<div class="mark" data-id="' + c + '" style="width:40px; height:40px; top:' + n + "px; left:" + j + "px; transform:rotate(" + o + "deg); -webkit-transform:rotate(" + o + 'deg);"><img src="' + k + '" style="width:100%;"></div>';
                                    $("#comment" + a + " .marks").append(s)
                                }
                            },
                            30)
                    } else {
                        var r = '<div class="mark" data-id="' + c + '" style="width:80px; height:80px; top:' + (n - 20) + "px; left:" + (j - 20) + "px; transform:rotate(" + o + "deg); -webkit-transform:rotate(" + o + 'deg);"><img src="' + k + '" style="width:100%;"></div>';
                        $("#comment" + a + " .marks").append(r);
                        $("#comment" + a + " .marks .mark:last").animate({
                                width: "40px",
                                height: "40px",
                                top: n + "px",
                                left: j + "px"
                            },
                            500)
                    }
                },
                500)
        } else {
            popLayer({
                title: "温馨提示",
                btnsName: "确定",
                btnsCallback: "closePopLayer()",
                content: '<div class="text-center">' + f.msg + "</div>",
            })
        }
    }).fail(function() {
        isSettingMark = false;
        popLayer({
            title: "温馨提示",
            btnsName: "确定",
            btnsCallback: "closePopLayer()",
            content: '<div class="text-center">请求失败，请稍候再试！</div>',
        })
    })
}
function showCannotMarks() {};