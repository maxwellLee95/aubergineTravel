function updateImgHeight() {
    if (isBack == 0) {
        windowWidth = $(window).width()
    }
    var h = windowWidth / 2.5 - 20;
    $(".modal15-line-img, .modal21-line-img").css("height", h + "px");
    var c = ((windowWidth - 10) / 2 - 10) * 120 / 360;
    $(".modal17 img, .modal17 .show-upload-img").css("height", c + "px");
    var b = windowWidth / 3 - 20;
    $(".modal18-choice-line-btn, .modal18-line-img").css("height", b + "px");
    var g = (windowWidth - 20) * 302 / 640;
    $(".modal19-choice-line-btn, .modal19-line-img").css("height", g + "px");
    var e = ((windowWidth - 14) * 0.35 - 6) * 176 / 170;
    $(".look-line-img").css("height", '100%');
    var j = ((windowWidth - 14) * 0.3 - 6) * 176 / 170;
    $(".modal27-img").css("height", j + "px");
    var d = (windowWidth - 20) * 302 / 640;
    $(".modal25-img").css("height", d + "px");
    var f = (windowWidth - 20) * 304 / 750;
    $(".modal28-module-bg").css("height", f + "px");
    var a = (windowWidth - 40) / 3 * 170 / 226;
    $(".modal28-module-item-img").css("height", a + "px");
    $(".modal29-img").each(function(l, n) {
        if (l == 0) {
            var m = windowWidth;
            var k = m * 290 / 750;
            $(this).css({
                width: m-20 + "px",
                height: k + "px"
            })
        } else {
            var m = windowWidth / 2;
            var k = m * 290 / 375
            $(this).css({
                margin: "5px 5px 0 0",
                width: m-15 + "px",
                height: k-15 + "px"
            })
        }
    })
}
updateImgHeight();
$(document).ready(function() {
    window.onresize = function() {
        updateImgHeight()
    }
});
if ($("#search_text").val() == "") {
    $(".search-placeholder").show()
} else {
    $(".search-placeholder").hide()
}
function showModal20More(c) {
    var b = $(c).parent().find(".hide-modal20-each");
    var a = b.attr("is-hide");
    if (a == 1) {
        b.slideDown();
        b.attr("is-hide", "0");
        $(c).html('隐藏更多&nbsp;&nbsp;<i class="fa fa-angle-up" aria-hidden="true"></i>')
    } else {
        b.slideUp();
        b.attr("is-hide", "1");
        $(c).html('查看更多&nbsp;&nbsp;<i class="fa fa-angle-down" aria-hidden="true"></i>')
    }
}
var tabSwipers = [];
$(".tab-swiper").each(function(b, d) {
    var c = 0;
    if (b == showTab) {
        var c = weekFestActiveIndex
    }
    var a = new Swiper(this, {
        initialSlide: c,
        pagination: "#tabSwiperPagination" + b,
        paginationClickable: true,
        onInit: function(e) {
            setSwiperPaginationNum(e, 0)
        },
        onSlideChangeStart: function(e) {
            $(e.container).find(".swiper-pagination-bullet").html("")
        },
        onSlideChangeEnd: function(e) {
            setSwiperPaginationNum(e, 0);
            addCookie("weekFestActiveIndex", e.activeIndex, 0);
        },
    });
    tabSwipers.push(a)
});
var isGetTabDatas = [];
isGetTabDatas.push(showTab);
function changeTab(b, a) {
    $(".tab-swiper-main").addClass("not-show");
    $(".tab-swiper-main").eq(b).removeClass("not-show");
    $(".top-tab").removeClass("active");
    $(".top-tab").eq(b).addClass("active");
    addCookie("showTab", b, 0);
    addCookie("weekFestActiveIndex", 0, 0);
    if ($(a).find(".top-tab-dot") != undefined) {
        $(a).find(".top-tab-dot").remove()
    }
    if ($.inArray(b, isGetTabDatas) != -1) {
        return
    }
    isGetTabDatas.push(b);
    $(".tab-swipers-loading").addClass("active");
    var c = $(a).data("module");
    $.ajax({
        url: "/phone/index/ajax_gettabmoduledata",
        type: "POST",
        dataType: "json",
        data: {
            id: c
        },
    }).done(function(e) {
        console.log(e);
        if (e.status == 1) {
            $(".tab-swipers-loading").removeClass("active");
            var d = tabSwipers[b];
            d.removeAllSlides();
            var f = getTabSwiperSlideHtml(e.datas);
            d.appendSlide(f);
            var g = d.activeIndex + 1;
            $(d.paginationContainer).find(".swiper-pagination-bullet-active").html(g);
            updateImgHeight()
        } else {
            console.log("get error")
        }
    }).fail(function() {
        console.log("ajax error")
    })
}
function getTabSwiperSlideHtml(a) {
    var c = "";
    var b = false;
    $.each(a,
        function(d, e) {
            if (d % 6 == 0) {
                c += '<div class="swiper-slide flex-div" style="width:100%; padding:0 5px;">';
                c += getTabSwiperSlideEachHtml(a[d]);
                c += getTabSwiperSlideEachHtml(a[d + 1]);
                c += getTabSwiperSlideEachHtml(a[d + 2]);
                c += getTabSwiperSlideEachHtml(a[d + 3]);
                c += getTabSwiperSlideEachHtml(a[d + 4]);
                c += getTabSwiperSlideEachHtml(a[d + 5]);
                c += "</div>"
            }
        });
    return c
}
function getTabSwiperSlideEachSpeiclHtml(b) {
    if (b == undefined) {
        return ""
    }
    var a = "";
    a += '<a href="' + b.url + '" style="width:33.33%; padding-bottom:10px;">';
    a += '<div style="padding:0 5px;">';
    a += '<div class="flex-div">';
    a += '<div class="modal15-line-img div-center" style="display:flex; background-color:#F6F5FA; text-align:center;">' + b.title + "</div>";
    if (b.sub_title != "") {
        a += '<div class="line-btn">' + b.sub_title + "</div>"
    }
    a += "</div>";
    a += "</div>";
    a += "</a>";
    return a
}
function getTabSwiperSlideEachHtml(b) {
    if (b == undefined) {
        return ""
    }
    var a = "";
    if (b.show_style == 2) {
        a = getTabSwiperSlideEachSpeiclHtml(b)
    } else {
        a += '<a href="' + b.url + '" style="width:33.33%; padding-bottom:10px;">';
        a += '<div style="padding:0 5px;position: relative;">';
        if (b.days != undefined) {
            a += '<div class="modal15-line-days">' + b.days + "天</div>"
        }
        a += '<div class="flex-div">';
        a += '<div class="modal15-line-img lazy-img-loading" style="display:inherit; background-image:url(' + b.imgUrl + ');" data-img="' + b.imgUrl + '" data-type="1"></div>';
        a += "</div>";
        a += '<div class="line-name text-left">' + b.title + "</div>";
        a += '<div class="line-info">';
        a += '<div class="pull-left">' + b.start_time + "</div>";
        if (b.show_type != 2) {
            a += '<div class="pull-right">';
            a += '<div class="status tab-status ' + b.status["style"] + '">';
            a += b.status["name"];
            // a += '<div class="left-triangle ' + b.status["style"] + '"></div>';
            a += "</div>";
            a += "</div>";
            a += '<div class="clear"></div>'
        }
        a += "</div>";
        a += "</div>";
        a += "</a>"
    }
    return a
}
function showSearchInput(a) {
    if (a == 1) {
        $(".search-placeholder").hide();
        $("#search_text").focus()
    } else {
        $(".search-placeholder").show()
    }
}
$(document).on("blur", "#search_text",
    function(a) {
        if ($(this).val() == "") {
            showSearchInput(0)
        }
    });
function checkNull() {
    if ($("#search_text").val() == "") {
        popLayer({
            title: "",
            btnsName: "确认",
            btnsCallback: "closePopLayer();",
            content: '<div class="text-center">搜索内容不能为空！</div>',
        });
        return false
    }
    $("#search_text").blur();
    return true
}
function submitSearchForm() {
    $("#searchForm").submit()
}
if (isBack == 0) {
    $("#news").textSlider({
        line: 1,
        speed: 1000,
        timer: 4000
    })
}
if (bannersLegnth > 1) {
    var bannerSwiper = new Swiper("#bannerSwiper", {
        pagination: "#bannerSwiperPagination",
        paginationClickable: true,
        loop: true,
        autoplay: 4000,
    })
}
var page = 1;
function getLookNew() {
    $.ajax({
        url: "/phone/index/ajax_looknew",
        type: "POST",
        dataType: "json",
        data: {
            page: page,
            wxoid: openId
        },
    }).done(function(a) {
        page++;
        pageGetting = false;
        if (a.items.length > 0) {
            addLookHtmlNew(a.items);
            updateImgHeight()
        }
        if (a.page >= a.lastPage) {
            pageIsEnd = true;
            $(".page-loading").hide();
            $(".is-last").show()
        }
    }).fail(function() {
        console.log("page get error")
    })
}
function addLookHtmlNew(a) {
    var b = "";
    $.each(a,
        function(d, e) {
            var f = e.activitys[0];
            b += '<a href="' + e.url + '">';
            b += '<div class="flex-div look-item">';
            b += '<div style="width:33%;">';
            b += '<div class="look-line-img lazy-img-loading" style="display:inherit;" data-img="' + f.small_imageurl_s + '" data-type="1"></div>';
            b += "</div>";
            b += '<div class="look-item-right">';
            b += '<div style="font-size:14px;padding-left: 8px;overflow: hidden;height: 40px;">' + f.activity_name + "</div>";
            b += '<div style="padding: 0 0 0 10px;">';
            b += '<div class="grey look-line-times">排期(' + e.activitys.length + "期)：" + e.times + "</div>";
            b += '<div class="grey flex-div">';
            b += '<div class="flex-start" style="color: red;margin-top: 5px;">' + e.goNum + "人去过</div>";
            b += "</div>";
            b += '<div class="grey flex-div">';
            b += '<div class="starts-container"><div class="left"><p class="grade-star"><span><em></em><b><i style=" width:'+e.score*20+'%"></i></b></span></p></div><div class="right" style="font-size: 10px;">'+e.score+'星</div></div>'
            b += "</div>";
            b += "</div>";
            b += "</div>";
            b += "</div>";
            b += "</a>"
        });
    $("#lookList").append(b);
    var c = (windowWidth - 10) * 0.25;
    $(".look-line-img").css("height", c + "px")
}
var modulesEnd = false;
var pageGetting = false;
var pageIsEnd = false;
var lookTop = $(window).height();
$(document).ready(function() {
    $(window).scroll(function() {
        parallaxScroll();
        var a = $(window).height();
        if ((a + $(window).scrollTop()) >= ($(document).height() - $(window).height())) {
            if (!pageGetting && !pageIsEnd && isBack == 0) {
                pageGetting = true;
                if (modulesEnd) {
                    $(".page-loading").hide();
                    $("#look").show();
                    getLookNew()
                } else {
                    getPageModules()
                }
            }
        }
        if ($(window).scrollTop() >= lookTop) {
            $(".back-top").show()
        } else {
            $(".back-top").hide()
        }
    })
});
function backTop() {
    $(window).scrollTop(0)
}
var modal17Swipers = [];
function setModal17Swipers() {
    $(".modal17-swiper").each(function(b, c) {
        $(this).find(".swiper-pagination").attr("id", "modal17SwiperPagination" + b);
        var a = new Swiper(this, {
            pagination: "#modal17SwiperPagination" + b,
            paginationClickable: true,
            onInit: function(d) {
                setSwiperPaginationNum(d, 0)
            },
            onSlideChangeStart: function(d) {
                $(d.container).find(".swiper-pagination-bullet").html("")
            },
            onSlideChangeEnd: function(d) {
                setSwiperPaginationNum(d, 0)
            }
        });
        modal17Swipers[b] = a
    })
}
setModal17Swipers();
var modal18Swipers = [];
function setModal18Swipers() {
    $(".modal18-swiper").each(function(b, c) {
        $(this).find(".swiper-pagination").attr("id", "modal18SwiperPagination" + b);
        var a = new Swiper(this, {
            pagination: "#modal18SwiperPagination" + b,
            paginationClickable: true,
            onInit: function(d) {
                setSwiperPaginationNum(d, 0)
            },
            onSlideChangeStart: function(d) {
                $(d.container).find(".swiper-pagination-bullet").html("")
            },
            onSlideChangeEnd: function(d) {
                setSwiperPaginationNum(d, 0)
            }
        });
        modal18Swipers[b] = a
    })
}
setModal18Swipers();
var modal19Swipers = [];
function setModal19Swipers() {
    $(".modal19-swiper").each(function(b, c) {
        $(this).find(".swiper-pagination").attr("id", "modal19SwiperPagination" + b);
        var a = new Swiper(this, {
            pagination: "#modal19SwiperPagination" + b,
            paginationClickable: true,
            autoplay: 4000,
            loop: true,
            onInit: function(d) {
                setSwiperPaginationNum(d, 1)
            },
            onSlideChangeStart: function(d) {
                $(d.container).find(".swiper-pagination-bullet").html("")
            },
            onSlideChangeEnd: function(d) {
                setSwiperPaginationNum(d, 1)
            }
        });
        modal19Swipers[b] = a
    })
}
setModal19Swipers();
var modal20Swipers = [];
function setModal20Swipers() {
    $(".modal20-swiper").each(function(b, c) {
        var a = new Swiper(this, {
            width: 120,
            spaceBetween: 0,
        });
        modal20Swipers[b] = a
    })
}
setModal20Swipers();
var modal21Swipers = [];
function setModal21Swipers() {
    $(".modal21-swiper").each(function(b, c) {
        $(this).find(".swiper-pagination").attr("id", "modal21SwiperPagination" + b);
        var a = new Swiper(this, {
            pagination: "#modal21SwiperPagination" + b,
            paginationClickable: true,
            onInit: function(d) {
                setSwiperPaginationNum(d, 0)
            },
            onSlideChangeStart: function(d) {
                $(d.container).find(".swiper-pagination-bullet").html("")
            },
            onSlideChangeEnd: function(d) {
                setSwiperPaginationNum(d, 0)
            }
        });
        modal21Swipers[b] = a
    })
}
setModal21Swipers();
var modal22Swipers = [];
function setModal22Swipers() {
    $(".modal22-swiper").each(function(b, c) {
        $(this).find(".swiper-pagination").attr("id", "modal22SwiperPagination" + b);
        var a = new Swiper(this, {
            pagination: "#modal22SwiperPagination" + b,
            paginationClickable: true,
            autoplay: 4000,
            loop: true,
            onInit: function(d) {
                setSwiperPaginationNum(d, 1)
            },
            onSlideChangeStart: function(d) {
                $(d.container).find(".swiper-pagination-bullet").html("")
            },
            onSlideChangeEnd: function(d) {
                setSwiperPaginationNum(d, 1)
            }
        });
        modal22Swipers[b] = a
    })
}
setModal22Swipers();
var modal24Swipers = [];
function setModal24Swipers() {
    $(".modal24-swiper").each(function(b, c) {
        $(this).find(".swiper-pagination").attr("id", "modal24SwiperPagination" + b);
        var a = new Swiper(this, {
            pagination: "#modal24SwiperPagination" + b,
            paginationClickable: true,
            onInit: function(d) {
                setSwiperPaginationNum(d, 0)
            },
            onSlideChangeStart: function(d) {
                $(d.container).find(".swiper-pagination-bullet").html("")
            },
            onSlideChangeEnd: function(d) {
                setSwiperPaginationNum(d, 0)
            }
        });
        modal24Swipers[b] = a
    })
}
setModal24Swipers();
var modal26Swipers = [];
function setModal26Swipers() {
    $(".modal26-swiper").each(function(b, c) {
        var a = new Swiper(this, {
            pagination: "#modal26SwiperPagination" + b,
            paginationClickable: true,
            loop: true,
            onInit: function(d) {
                setSwiperPaginationNum(d, 1)
            },
            onSlideChangeStart: function(d) {
                $(d.container).find(".swiper-pagination-bullet").html("")
            },
            onSlideChangeEnd: function(d) {
                setSwiperPaginationNum(d, 1)
            }
        });
        modal26Swipers[b] = a
    })
}
setModal26Swipers();
var modal28Swipers = [];
function setModal28Swipers() {
    $(".modal28-items-swiper").each(function(b, c) {
        $(this).find(".swiper-pagination").attr("id", "modal28SwiperPagination" + b);
        var a = new Swiper(this, {
            pagination: "#modal28SwiperPagination" + b,
            paginationClickable: true,
            loop: true,
            onInit: function(d) {
                setSwiperPaginationNum(d, 1)
            },
            onSlideChangeStart: function(d) {
                $(d.container).find(".swiper-pagination-bullet").html("")
            },
            onSlideChangeEnd: function(d) {
                setSwiperPaginationNum(d, 1)
            }
        });
        modal28Swipers[b] = a
    })
}
setModal28Swipers();
function setSwiperPaginationNum(b, a) {
    var c = b.activeIndex + 1;
    if (a) {
        c = $(b.container).find(".swiper-slide.swiper-slide-active").data("swiper-slide-index") + 1
    }
    $(b.paginationContainer).find(".swiper-pagination-bullet-active").html(c)
}
$(".discount-time").each(function(a, c) {
    var b = $(this).data("end");
    var d = $(this);
    d.setTimeInterval({
        stopTime: b,
        minTime: "secs",
        showType: 2,
        eachCallBack: function(j, h, f) {
            var e = (j.hour < 10 ? ("0" + j.hour) : j.hour).toString();
            var l = (j.minute < 10 ? ("0" + j.minute) : j.minute).toString();
            var g = (j.second < 10 ? ("0" + j.second) : j.second).toString();
            var k = "";
            if (j.day > 0) {
                k += "<div>" + j.day + "天&nbsp;</div>"
            }
            for (i = 0; i < e.length; i++) {
                k += '<div class="discount-date">' + e.charAt(i) + "</div>"
            }
            k += '<div style="font-weight:bold;">:</div>';
            for (i = 0; i < l.length; i++) {
                k += '<div class="discount-date">' + l.charAt(i) + "</div>"
            }
            k += '<div style="font-weight:bold;">:</div>';
            for (i = 0; i < g.length; i++) {
                k += '<div class="discount-date">' + g.charAt(i) + "</div>"
            }
            d.html(k)
        },
        overTimeCallBack: function(e) {
            console.log("time end");
            d.html("<div>优惠已结束</div>")
        }
    })
});
function setShowRemainingTime() {
    $(".show-remaining-time").each(function(b, d) {
        var e = $(this);
        var c = $(this).attr("stop-time");
        var a = $(this).attr("after-desc");
        e.setTimeInterval({
            stopTime: c,
            minTime: "secs",
            showType: 2,
            eachCallBack: function(f, p, n) {
                var r = f.day.toString();
                var m = (f.hour < 10 ? ("0" + f.hour) : f.hour).toString();
                var k = (f.minute < 10 ? ("0" + f.minute) : f.minute).toString();
                var g = (f.second < 10 ? ("0" + f.second) : f.second).toString();
                var j = "";
                for (i = 0; i < r.length; i++) {
                    j += '<span class="time-css">' + r.charAt(i) + "</span>"
                }
                var h = "";
                for (i = 0; i < m.length; i++) {
                    h += '<span class="time-css">' + m.charAt(i) + "</span>"
                }
                var q = "";
                for (i = 0; i < k.length; i++) {
                    q += '<span class="time-css">' + k.charAt(i) + "</span>"
                }
                var l = "";
                for (i = 0; i < g.length; i++) {
                    l += '<span class="time-css">' + g.charAt(i) + "</span>"
                }
                var o = "";
                if (f.day > 0) {
                    o += '<span class="day">' + j + "</span> 天 "
                }
                o += '<span class="hour">' + h + "</span> 时 ";
                o += '<span class="minute">' + q + "</span> 分 ";
                o += '<span class="second">' + l + "</span> 秒";
                e.html(o)
            },
            overTimeCallBack: function(f) {
                e.html("");
                e.parent().parent().find(".remaining-time-desc").html(a)
            }
        })
    })
}
setShowRemainingTime();
var modulePage = 3;
function getPageModules() {
    $.ajax({
        type: "POST",
        url: "/phone/index/ajax_index_page",
        data: {
            page: modulePage,
            wxoid: openId
        },
        dataType: "json",
        success: function(a) {
            if (a.status == 1) {
                setPageModulesHtml(a.data);
                modulePage++;
                pageGetting = false;
                if (a.data.length < 2) {
                    modulesEnd = true
                }
            } else {
                console.log("分页模块数据获取失败")
            }
        },
        error: function(b, a) {
            console.log("分页模块数据请求失败")
        }
    })
}
function setPageModulesHtml(a) {

    var b = "";
    $.each(a,
        function(c, d) {
            console.log(d.type);
            switch (parseInt(d.type)) {
                case 17:
                    b += getModal17Html(d);
                    setModal17Swipers();
                    break;
                case 18:
                    b += getModal18Html(d);
                    break;
                case 19:
                    b += getModal19Html(d);
                    break;
                case 20:
                    b += getModal20Html(d);
                    break;
                case 21:
                    b += getModal21Html(d);
                    break;
                case 22:
                    b += getModal22Html(d);
                    break;
                case 23:
                    b += getModal23Html(d);
                    break;
                case 24:
                    b += getModal24Html(d);
                    break;
                case 25:
                    b += getModal25Html(d);
                    break;
                case 26:
                    b += getModal26Html(d);
                    break;
                case 27:
                    b += getModal27Html(d);
                    break;
                case 28:
                    b += getModal28Html(d);
                    break;
                case 29:
                    b += getModal29Html(d);
                    break;
                case 30:
                    b += getModal30Html(d);
                    break
                case 31:
                    b += getModal31Html(d);
                    break
            }
        });
    $("#pageModules").append(b);
    $.each(a,
        function(c, d) {
            switch (parseInt(d.type)) {
                case 17:
                    setModal17Swipers();
                    break;
                case 18:
                    setModal18Swipers();
                    break;
                case 19:
                    setModal19Swipers();
                    break;
                case 20:
                    setModal20Swipers();
                    break;
                case 21:
                case 30:
                    setModal21Swipers();
                    break;
                case 22:
                    setModal22Swipers();
                    setShowRemainingTime();
                    break;
                case 23:
                    break;
                case 24:
                    setModal24Swipers();
                    break;
                case 26:
                    setModal26Swipers();
                    break;
                case 28:
                    setModal28Swipers();
                    break
            }
        });
    updateImgHeight()
}
function getModal17Html(a) {
    var c = "";
    c += '<div class="flex-div index-modal modal17" data-style="17" data-position="' + a.position + '" data-module="' + a.id + '">';
    c += '<div class="index-modal-title black">';
    c += "<div>" + a.name + "</div>";
    c += "<div>— " + a.sub_title + " —</div>";
    c += "</div>";
    c += '<div class="swiper-container" id="indexModalSwiper">';
    c += '<div class="swiper-wrapper">';
    var b = 0;
    $.each(a.items,
        function(f, d) {
            if (f % 6 == 0) {
                c += '<div class="swiper-slide flex-div tag-swiper-slide" id="tagSwiperSlide' + b + '">';
                for (var e = f; e < (f + 5); e++) {
                    if (a.items[e] != undefined) {
                        c += '<div class="swiper-one">';
                        c += '<a href="' + a.items[e]["url"] + '">';
                        c += '<img src="" class="img-responsive lazy-img-loading" data-img="' + a.items[e]["imgUrl"] + '" data-type="2"/>';
                        c += "</a>";
                        c += "</div>"
                    }
                }
                c += "</div>"
            }
            b++
        });
    c += "</div>";
    c += '<div class="swiper-pagination"></div>';
    c += "</div>";
    c += "</div>";
    return c
}
function getModal18Html(a) {
    var b = "";
    b += '<div class="flex-div index-modal modal18" data-style="18" data-position="' + a.position + '" data-module="' + a.id + '">';
    b += '<div class="index-modal-title black">';
    b += "<div>" + a.name + "</div>";
    b += "<div></div>";
    b += "</div>";
    b += '<div class="index-modal-content flex-div">';
    $.each(a.items,
        function(c, d) {
            b += '<div class="swiper-modal">';
            b += '<div class="text-center">';
            b += '<div class="modal18_sub_title div-center">';
            if (c == 0) {
                b += "— " + d.sub_title + " —"
            } else {
                b += "<span></span>" + d.sub_title + "<span></span>"
            }
            b += "</div>";
            b += "</div>";
            b += '<div id="swiperModal' + c + '" class="swiper-container modal18-swiper" data-index="' + c + '">';
            b += '<div class="swiper-wrapper">';
            $.each(d.items,
                function(g, e) {
                    if (g % 3 == 0) {
                        b += '<div class="swiper-slide flex-div">';
                        for (var f = g; f <= (g + 2); f++) {
                            if (d.items[f] != undefined) {
                                b += '<div class="modal18-line-info" style="width:33.33%;">';
                                if (c == 0) {
                                    b += '<div class="modal18-top">HOT' + (f + 1) + "</div>"
                                }
                                b += '<a href="' + d.items[f]["url"] + '">';
                                b += '<div class="flex-div" style="position:relative;">';
                                b += '<div class="modal18-line-img lazy-img-loading" style="display:inherit;" data-img="' + d.items[f]["imgUrl"] + '" data-type="1"></div>';
                                b += "</div>";
                                b += '<div class="line-name">' + d.items[f]["title"] + "</div>";
                                b += '<div class="line-desc">' + d.items[f]["sub_title"] + "</div>";
                                b += "</a>";
                                b += "</div>"
                            }
                        }
                        b += "</div>"
                    }
                });
            b += "</div>";
            b += '<div class="swiper-pagination swiper-modal-pagination" id="swiperPagination' + c + '"></div>';
            b += "</div>";
            b += '<div class="swiper-bottom-line"></div>';
            b += "</div>"
        });
    b += "</div>";
    b += "</div>";
    return b
}
function getModal19Html(a) {
    var b = "";
    b += '<div class="flex-div index-modal modal19" data-style="19" data-position="' + a.position + '" data-module="' + a.id + '">';
    b += '<div class="index-modal-title black">';
    b += '<div class="div-center">' + a.name + "</div>";
    b += "<div>— " + a.sub_title + " —</div>";
    b += "</div>";
    b += '<div class="index-modal-content" style="padding-bottom:10px;">';
    b += '<div class="swiper-container modal19-swiper">';
    b += '<div class="swiper-wrapper">';
    $.each(a.items,
        function(d, c) {
            b += '<div class="swiper-slide" style="width:100%;">';
            b += '<div class="modal19-line-info">';
            b += '<a href="' + c.url + '">';
            b += '<div class="modal19-line-img lazy-img-loading" style="display:table;" data-img="' + c.imgUrl + '" data-type="1">';
            b += "<div>" + c.title + "</div>";
            b += "</div>";
            b += '<div class="modal19-line-hiker">';
            b += '<div class="modal19-line-hiker-img">';
            b += '<img class="img-circle lazy-img-loading" style="display:inherit;" data-img="' + c.hikers[0]["headImgUrl"] + '" data-type="2" src="">';
            b += "</div>";
            b += '<div class="modal19-line-hiker-info">';
            b += '<div class="modal19-line-hiker-title">';
            b += '<img src="/phone/public/images/wechat/leader_tag.png" style="height:12px;">';
            b += "<span>线路规划师</span>";
            b += "</div>";
            b += '<span style="font-weight:bold;">&nbsp;' + c.hikers[0]["nickname"] + "&nbsp;</span>";
            b += "<span>推荐</span>";
            b += "</div>";
            b += '<div class="text-center" style="padding:5px 0;">';
            b += '<img src="/phone/public/images/wechat/v4/quotes.png" style="height:12px;">';
            b += "</div>";
            b += "</div>";
            b += '<div class="modal19-line-desc">' + c.description + "</div>";
            b += "</a>";
            b += "</div>";
            b += "</div>"
        });
    b += "</div>";
    b += '<div class="swiper-pagination swiper-modal-pagination" id="modal19SwiperPagination0" style="bottom:0;"></div>';
    b += "</div>";
    b += "</div>";
    b += "</div>";
    return b
}
function getModal20Html(a) {
    var b = "";
    b += '<div class="flex-div index-modal modal20" data-style="20" data-position="' + a.position + '" data-module="' + a.id + '">';
    b += '<div class="index-modal-title black">';
    b += "<div>" + a.name + "</div>";
    b += "<div>— " + a.sub_title + " —</div>";
    b += "</div>";
    b += '<div class="index-modal-content">';
    $.each(a.items,
        function(d, c) {
            b += '<div class="modal20-info">';
            b += '<a href="' + c.url + '">';
            b += '<div style="position:relative;">';
            b += '<div class="flex-div div-center modal20-top-info">';
            // b += '<div class="modal20-top-num">';
            // b += "<div>TOP</div>";
            // b += "<div>0" + (d + 1) + "</div>";
            // b += "</div>";
            b += "<div>";
            b += '<div class="modal20-top-name">';
            b += '<div style="font-weight:bold;">' + [c.title] + "</div>";
            b += '<div class="modal20-top-desc">';
            if (c.score > 0) {
                b += '<div>';
                b += c.count + "人去过<br>"+c.score + "分";
                // b += '<img src="/phone/public/images/wechat/v4/foot.png" style="height:12px;"> ' + c.count + "人去过";
                // b += "</div>";
                // b += '<div class="pull-right" style="padding-left:10px;">';
                // b += '<img src="/phone/public/images/wechat/v4/star_w.png" style="height:12px;"> ' + c.score + "分";
                b += "</div>"
            } else {
                b += "<span>新线火热报名中</span>"
            }
            b += '<div class="clear"></div>';
            b += "</div>";
            b += "</div>";
            b += "</div>";
            b += "</div>";
            b += '<img src="" class="img-responsive lazy-img-loading" data-img="' + c.imgUrl + '" data-type="2" style="min-height:122px;width: 100%"/>';
            b += "</div>";
            b += "</a>";
            b += "</div>";
            b += '<div class="modal20-main">';
            b += '<div class="swiper-container modal20-swiper">';
            b += '<div class="swiper-wrapper">';
            $.each(c.activitys,
                function(f, e) {
                    b += '<div class="swiper-slide">';
                    b += '<a href="' + e.url + '">';
                    b += '<div class="flex-div modal20-each">';
                    b += '<div class="modal20-time">';
                    b += "<span>" + e.startTime + "</span>~" + e.endTime;
                    b += "</div>";
                    b += '<div class="modal20-status">' + e.status["name"] + "</div>";
                    b += '<div class="modal20-status-btn ' + e.status["style"] + '">查看</div>';
                    b += "</div>";
                    b += "</a>";
                    b += "</div>"
                });
            b += "</div>";
            b += "</div>";
            b += "</div>"
        });
    b += "</div>";
    b += "</div>";
    return b
}
function getModal21Html(a) {
    var b = "";
    b += '<div class="flex-div index-modal modal21" data-style="21" data-position="' + a.position + '" data-module="' + a.id + '">';
    b += '<div class="index-modal-title black">';
    b += "<div>" + a.name + "</div>";
    b += "<div>— " + a.sub_title + " —</div>";
    b += "</div>";
    b += '<div class="index-modal-content" style="padding-bottom:10px;">';
    b += '<div style="padding-top:10px;">';
    b += '<div class="modal21-line-info" style="width:100%;" data-index="0">';
    b += '<a href="' + a.items[0]["url"] + '">';
    b += '<div style="position:relative;">';
    b += '<img class="lazy-img-loading" src="" data-img="' + a.items[0]["imgUrl"] + '" data-type="2" style="width:100%;">';
    b += "</div>";
    b += '<div class="modal21-line-name" style="padding-top:5px;">' + a.items[0]["title"] + "</div>";
    b += '<div class="modal21-line-score">';
    if (a.items[0]["count"] > 0) {
        b += '<img src="/phone/public/images/wechat/v4/good.png" style="height:12px;">';
        b += ' <span style="margin-left:4px;">' + a.items[0]["count"] + "位妈妈推荐</span>";
        b += '<img src="/phone/public/images/wechat/v4/star_hh.png" style="height:12px; margin-left:15px;">';
        b += '<span style="margin-left:4px;">' + a.items[0]["score"] + "分</span>"
    } else {
        b += '<span class="modal21-new">NEW</span><span style="padding-left:20px;">新线首发</span>'
    }
    b += "</div>";
    b += "</a>";
    b += "</div>";
    b += "</div>";
    b += "<div>";
    b += '<div class="swiper-container modal21-swiper" style="padding-bottom:20px;">';
    b += '<div class="swiper-wrapper">';
    $.each(a.items,
        function(e, c) {
            if (e % 3 == 1 && e > 0) {
                b += '<div class="swiper-slide" style="padding:0 5px;">';
                for (var d = e; d <= e + 2; d++) {
                    if (a.items[d] != undefined) {
                        b += '<div class="modal21-line-info" style="width:33.33%; padding:0 5px;" data-index="1">';
                        b += '<a href="' + a.items[d]["url"] + '">';
                        b += '<div style="position:relative;">';
                        b += '<div class="lazy-img-loading modal21-line-img" data-img="' + a.items[d]["imgUrl"] + '" data-type="1" style="display:inherit;"></div>';
                        b += "</div>";
                        b += '<div class="line-name">' + a.items[d]["title"] + "</div>";
                        b += '<div class="line-name modal21-desc" style="margin-top:0; font-size:12px; color:#999; line-height:1">';
                        if (a.items[d]["score"] > 0) {
                            b += '<img src="/phone/public/images/wechat/v4/star_hh.png" style="height:12px; margin-bottom:2px;"> ' + a.items[d]["score"] + "分"
                        } else {
                            b += '<span class="modal21-new">NEW</span>';
                            b += '<span style="font-size:12px; padding-left:4px;">新线首发</span>'
                        }
                        b += "</div>";
                        b += "</a>";
                        b += "</div>"
                    }
                }
                b += "</div>"
            }
        });
    b += "</div>";
    b += '<div class="swiper-pagination swiper-modal-pagination" style="bottom:0;"></div>';
    b += "</div>";
    b += "</div>";
    b += "</div>";
    b += "</div>";
    return b
}
function getModal22Html(a) {
    var b = "";
    b += '<div class="flex-div index-modal modal22" data-style="22" data-position="' + a.position + '" data-module="' + a.id + '" ' + (a.items.length > 0 ? "": 'style="padding:0;"') + ">";
    if (a.items.length > 0) {
        b += '<div class="index-modal-title black">';
        b += "<div>专题 · 优惠</div>";
        b += "<div>— 精品专题推荐 —</div>";
        b += "</div>"
    }
    b += '<div class="index-modal-content">';
    if (a.items.length > 0) {
        b += '<div class="swiper-container modal22-swiper">';
        b += '<div class="swiper-wrapper">';
        $.each(a.items,
            function(c, d) {
                b += '<div class="swiper-slide flex-div" style="width:100%;">';
                b += '<a href="' + d.url + '" class="modal22-swiper-content">';
                b += '<div class="modal22-line-img" style="display:inherit;">';
                b += '<img class="lazy-img-loading" src="" data-img="' + d.imageUrl + '" data-type="2" style="width:100%;">';
                if (d.title != "") {
                    b += '<div class="modal22-swiper-title">';
                    b += '<img src="/phone/public/images/wechat/v4/new_user_discount.png" style="height:14px; margin-bottom:2px;">' + d.title;
                    b += "</div>"
                }
                if (d.name != "") {
                    b += '<div class="modal22-swiper-name">' + d.name + "</div>"
                }
                b += "</div>";
                b += '<div style="padding:10px 10px 5px 10px;">';
                b += '<span class="remaining-time-desc" style="font-size:12px;">' + d.service["title"] + "</span>";
                if (d.service["type"] == 1) {
                    b += '<span class="pull-right show-remaining-time" stop-time="' + d.service["endTime"] + '" after-desc="' + d.service["endDesc"] + '"></span>'
                }
                b += "</div>";
                b += "</a>";
                b += "</div>"
            });
        b += "</div>";
        b += '<div class="swiper-pagination swiper-modal-pagination" id="modal22SwiperPagination0" style="bottom:0;"></div>';
        b += "</div>"
    }
    if (a.imgItems.length > 0) {
        b += '<div class="modal22-img-list flex-div" style="display:none;">';
        $.each(a.imgItems,
            function(d, e) {
                b += '<div style="width:50%;">';
                b += '<a href="' + e.real_url + '">';
                var c = (e.position % 2 == 1) ? "": "";
                b += '<img class="modal22-img lazy-img-loading" src="" style="width:100%; ' + c + '" data-img="' + e.imageUrl + '" data-type="2">';
                b += "</a>";
                b += "</div>"
            });
        b += "</div>"
    }
    b += "</div>";
    b += "</div>";
    return b
}
function getModal23Html(a) {
    var b = "";
    b += '<div class="flex-div index-modal modal23" data-style="23" data-position="' + a.position + '" data-module="' + a.id + '" style="padding:0;">';
    b += '<a href="' + a.url + '">';
    b += '<div class="modal23-title">';
    b += '<div class="area-left-border">';
    b += '<div class="area-left-small-border"></div>';
    b += "</div>";
    b += '<div class="modal23-title-name">' + a.name + "</div>";
    b += '<div class="area-right-border">';
    b += '<div class="area-right-small-border"></div>';
    b += "</div>";
    b += "</div>";
    b += '<div class="index-modal-content" style="padding:10px;">';
    b += "<div>";
    b += '<img src="' + a.imageUrl + '" style="width:100%;">';
    b += "</div>";
    b += '<div class="flex-div modal23-info">';
    b += '<div class="remaining-time-desc">';
    if (a.haveSurplusTime) {
        b += a.before_desc
    } else {
        b += a.after_desc
    }
    b += "</div>";
    b += '<div class="modal23-desc">';
    if (a.haveSurplusTime) {
        b += '<div class="pull-right show-remaining-time" stop-time="' + a.can_signup_time + '" after-desc="' + a.after_desc + '"></div>'
    }
    b += "</div>";
    b += "</div>";
    b += "</div>";
    b += "</a>";
    b += "</div>";
    return b
}
function getModal24Html(a) {
    var b = "";
    b += '<div class="flex-div index-modal modal24" data-style="24" data-position="' + a.position + '" data-module="' + a.id + '">';
    b += '<div class="index-modal-content">';
    b += '<div class="modal24-top">';
    b += '<div class="modal24-sub-title">';
    b += '<div><img src="/phone/public/images/wechat/v4/star_line.png" style="height:14px; margin-top:-2px;">&nbsp;茄子户外运动主打专线</div>';
    b += "</div>";
    b += '<div class="modal24-title">翡翠多彩贵州</div>';
    b += '<img src="/phone/public/images/wx/v4/guizhou_tag.png" style="width:68%; margin-top:-10px;">';
    b += "</div>";
    b += '<div class="swiper-container modal24-swiper">';
    b += '<div class="swiper-wrapper">';
    $.each(a.items,
        function(e, c) {
            if (e % 4 == 0) {
                b += '<div class="swiper-slide flex-div" style="width:100%;">';
                for (var d = e; d <= e + 3; d++) {
                    if (a.items[d] != undefined) {
                        b += '<a href="' + a.items[d]["url"] + '">';
                        b += '<div class="modal24-line">';
                        b += '<div class="modal24-line-img">';
                        b += '<img src="' + a.items[d]["imgUrl"] + '" style="width:100%;">';
                        b += '<div class="modal24-line-tag">' + a.items[d]["tag"] + "</div>";
                        b += "</div>";
                        b += '<div class="modal24-info">';
                        b += '<div class="modal24-line-name">' + a.items[d]["title"] + "</div>";
                        b += '<div class="modal24-line-title">' + a.items[d]["sub_title"] + "</div>";
                        b += "</div>";
                        b += "</div>";
                        b += "</a>"
                    }
                }
                b += "</div>"
            }
        });
    b += "</div>";
    b += '<div class="swiper-pagination swiper-modal-pagination" id="modal24SwiperPagination0"></div>';
    b += "</div>";
    b += "</div>";
    b += "</div>";
    return b
}
function getModal25Html(a) {
    var b = "";
    b += '<div class="flex-div index-modal modal25" data-style="25" data-position="' + a.position + '" data-module="' + a.id + '">';
    b += '<div class="index-modal-title black">';
    b += "<div>" + a.name + "</div>";
    b += "<div>— " + a.sub_title + " —</div>";
    b += "</div>";
    b += '<div class="index-modal-content" style="padding-top:10px;">';
    $.each(a.items,
        function(d, c) {
            b += '<div class="modal25-line">';
            b += '<a href="' + c.url + '">';
            b += "<div>";
            b += '<div class="modal25-img">';
            b += '<img src="' + c.imgUrl + '" style="width:100%;">';
            b += "</div>";
            b += "</div>";
            b += '<div class="modal25-line-info">';
            b += '<div style="font-size:14px;">' + c.title + '<div class="pull-right"><div style="color:#9B8CE5;">查看 <img src="/phone/public/images/wechat/v4/right_g.png" style="height:10px; margin-bottom:2px;"></div></div></div>';
            b += '<div style="color:#999; padding-left:8px;">';
            if (c.score > 0) {
                b += '<span><img src="/phone/public/images/wechat/v4/foot_h.png" style="height:12px; margin-bottom:2px;"> ' + c.count + "人去过</span>";
                b += '<span style="padding-left:20px;"><img src="/phone/public/images/wechat/v4/star_hh.png" style="height:12px; margin-bottom:2px;"> ' + c.score + "分</span>"
            } else {
                b += '<span class="modal25-new">NEW</span>';
                b += '<span style="padding-left:20px;">新线首发</span>'
            }
            b += "</div>";
            b += "</div>";
            b += "</a>";
            b += "</div>"
        });
    b += "</div>";
    b += "</div>";
    return b
}
function getModal26Html(a) {
    var b = "";
    if (a.items.length > 0) {
        b += '<div class="flex-div index-modal modal26" data-style="26" data-position="' + a.position + '" data-module="' + a.id + '">';
        b += '<div class="swiper-wrapper modal26-swiper">';
        b += '<div class="swiper-wrapper">';
        $.each(a.items,
            function(c, d) {
                b += '<div class="swiper-slide">';
                b += '<div class="slide-img">';
                b += '<a href="' + d.url + '">';
                b += '<img class="lazy-img-loading" data-img="' + d.imageUrl + '" data-type="2" style="width:100%; margin-bottom:10px;">';
                b += "</a>";
                b += "</div>";
                b += "</div>"
            });
        b += "</div>";
        b += "</div>";
        b += "</div>"
    }
    return b
}
function getModal27Html(a) {
    var b = "";
    if (a.items.length <= 0) {
        return b
    }
    b += '<div class="flex-div index-modal modal27" data-style="27" data-position="' + a.position + '" data-module="' + a.id + '">';
    b += '<div class="index-modal-title black">';
    b += "<div>" + a.name + "</div>";
    b += "<div>— " + a.sub_title + " —</div>";
    b += "</div>";
    b += '<div class="swiper-wrapper modal27-swiper">';
    b += '<div class="swiper-wrapper">';
    $.each(a.items,
        function(c, e) {
            if (c % 8 == 0) {
                b += '<div class="swiper-slide">';
                b += '<div class="flex-div">';
                for (var d = 0; d < 8; d++) {
                    if (a.items[d] != undefined) {
                        b += '<div style="width:33%;">';
                        b += '<a href="' + a.items[d]["url"] + '">';
                        b += '<div style="position:relative; margin:0 3px 12px 3px;">';
                        b += '<div class="modal27-img" style="background-image:url(' + a.items[d]["imgUrl"] + ');"></div>';
                        b += '<div class="modal27-title flex-center">' + a.items[d]["title"] + "</div>";
                        b += "</div>";
                        b += "</a>";
                        b += "</div>"
                    }
                }
                b += "</div>";
                b += "</div>"
            }
        });
    b += "</div>";
    b += "</div>";
    b += "</div>";
    return b
}
function getModal28Html(a) {
    var b = "";
    b += '<div class="flex-div index-modal modal28" data-style="28" data-position="' + a.position + '" data-module="' + a.id + '">';
    b += '<div class="index-modal-title black">';
    b += "<div>" + a.name + "</div>";
    b += "<div>— " + a.sub_title + " —</div>";
    b += "</div>";
    b += '<div class="index-modal-content" style="padding-top:10px;">';
    b += '<div class="modal28-list">';
    $.each(a.items,
        function(c, d) {
            b += '<div class="modal28-module">';
            b += '<a href="' + d.url + '">';
            b += '<div class="modal28-module-bg" style="background-image:url(' + d.imageUrl + ');">';
            b += '<div class="modal28-module-info">';
            b += '<div class="modal28-module-title">' + d.name + ' <i class="fa fa-chevron-circle-right" aria-hidden="true"></i></div>';
            b += '<div class="modal28-module-sub-title">' + d.sub_title + "</div>";
            b += "</div>";
            b += "</div>";
            b += "</a>";
            b += '<div class="modal28-module-items">';
            b += '<div class="swiper-wrapper modal28-items-swiper">';
            b += '<div class="swiper-wrapper">';
            $.each(d.items,
                function(g, f) {
                    if (g % 3 == 0) {
                        b += '<div class="swiper-slide" style="padding:0 5px;">';
                        b += '<div class="flex-div">';
                        for (var e = g; e <= (g + 2); e++) {
                            var f = d.items[e];
                            if (f != undefined) {
                                b += '<div class="modal28-module-item">';
                                b += '<div class="modal28-module-item-main">';
                                b += '<a href="' + f.url + '">';
                                b += '<div class="modal28-module-item-img" style="background-image:url(' + f.imgUrl + ');"></div>';
                                b += '<div class="modal28-module-item-info">';
                                b += '<div class="modal28-module-item-title">' + f.title + "</div>";
                                b += "</div>";
                                b += "</a>";
                                b += "</div>";
                                b += "</div>"
                            }
                        }
                        b += "</div>";
                        b += "</div>"
                    }
                });
            b += "</div>";
            b += '<div class="swiper-pagination swiper-modal-pagination"></div>';
            b += "</div>";
            b += "</div>";
            b += "</div>"
        });
    b += "</div>";
    b += "</div>";
    b += "</div>";
    return b
}
function getModal29Html(a) {
    var b = "";
    b += '<div class="flex-div index-modal modal29" data-style="29" data-position="' + a.position + '" data-module="' + a.id + '">';
    b += '<div class="index-modal-content">';
    b += '<div class="flex-div modal29-list">';
    b += '<div class="modal29-img" style="' + (a.items[0] != undefined ? "background-image:url(" + a.items[0]["imageUrl"] + ");": "") + ' width:100%;">';
    if (a.items[0] != undefined) {
        b += '<a href="' + a.items[0]["url"] + '">';
        b += '<div class="flex-center" style="height:100%;">';
        b += '<div class="text-center">';
        b += '<div class="modal29-name">' + a.items[0]["name"] + "</div>";
        b += '<div class="modal29-desc">' + a.items[0]["before_desc"] + "</div>";
        b += "</div>";
        b += "</div>";
        b += "</a>"
    }
    b += "</div>";
    b += '<div class="modal29-img" style="' + (a.items[1] != undefined ? "background-image:url(" + a.items[1]["imageUrl"] + ");": "") + ' width:50%;">';
    if (a.items[1] != undefined) {
        b += '<a href="' + a.items[1]["url"] + '">';
        b += '<div class="flex-center" style="height:100%;">';
        b += '<div class="text-center">';
        b += '<div class="modal29-name">' + a.items[1]["name"] + "</div>";
        b += '<div class="modal29-desc">' + a.items[1]["before_desc"] + "</div>";
        b += "</div>";
        b += "</div>";
        b += "</a>"
    }
    b += "</div>";
    b += '<div class="modal29-img" style="' + (a.items[2] != undefined ? "background-image:url(" + a.items[2]["imageUrl"] + ");": "") + ' width:50%;">';
    if (a.items[2] != undefined) {
        b += '<a href="' + a.items[2]["url"] + '">';
        b += '<div class="flex-center" style="height:100%;">';
        b += '<div class="text-center">';
        b += '<div class="modal29-name">' + a.items[2]["name"] + "</div>";
        b += '<div class="modal29-desc">' + a.items[2]["before_desc"] + "</div>";
        b += "</div>";
        b += "</div>";
        b += "</a>"
    }
    b += "</div>";
    b += "</div>";
    b += "</div>";
    b += "</div>";
    return b
}
function getModal30Html(a) {
    var b = "";
    b += '<div class="flex-div index-modal modal21" data-style="30" data-position="' + a.position + '" data-module="' + a.id + '">';
    b += '<div class="index-modal-title black">';
    b += "<div>" + a.name + "</div>";
    b += "<div>— " + a.sub_title + " —</div>";
    b += "</div>";
    b += '<div class="index-modal-content" style="padding-bottom:10px;">';
    b += '<div class="swiper-container modal21-swiper" style="padding-bottom:20px;">';
    b += '<div class="swiper-wrapper">';
    $.each(a.items,
        function(e, c) {
            if (e % 6 == 0) {
                b += '<div class="swiper-slide" style="padding:0 5px;">';
                for (var d = e; d <= e + 5; d++) {
                    if (a.items[d] != undefined) {
                        b += '<div class="modal21-line-info" style="width:33.33%; padding:0 5px 10px 5px;" data-index="1">';
                        b += '<a href="' + a.items[d]["url"] + '">';
                        b += '<div style="position:relative;">';
                        b += '<div class="lazy-img-loading modal21-line-img" data-img="' + a.items[d]["imgUrl"] + '" data-type="1" style="display:inherit;"></div>';
                        b += "</div>";
                        b += '<div class="line-name">' + a.items[d]["title"] + "</div>";
                        b += '<div class="line-name modal21-desc" style="margin-top:0; font-size:12px; color:#999; line-height:1">';
                        if (a.items[d]["score"] > 0) {
                            b += '<img src="/phone/public/images/wechat/v4/star_hh.png" style="height:12px; margin-bottom:2px;"> ' + a.items[d]["score"] + "分"
                        } else {
                            b += '<span class="modal21-new">NEW</span>';
                            b += '<span style="font-size:12px; padding-left:4px;">新线首发</span>'
                        }
                        b += "</div>";
                        b += "</a>";
                        b += "</div>"
                    }
                }
                b += "</div>"
            }
        });
    b += "</div>";
    b += '<div class="swiper-pagination swiper-modal-pagination" style="bottom:0;"></div>';
    b += "</div>";
    b += "</div>";
    b += "</div>";
    return b
}
function getModal31Html(a) {
    var b = "";
    if (a.items.length <= 0) {
        return b
    }
    b += '<div class="flex-div index-modal modal27" data-style="27" data-position="' + a.position + '" data-module="' + a.id + '">';
    b += '<div class="index-modal-title black">';
    b += "<div>" + a.name + "</div>";
    b += "<div>— " + a.sub_title + " —</div>";
    b += "</div>";
    b += '<div class="swiper-wrapper modal27-swiper">';
    b += '<div class="swiper-wrapper">';
    $.each(a.items,
        function(c, e) {
            if (c % 8 == 0) {
                b += '<div class="swiper-slide">';
                b += '<div class="flex-div">';
                for (var d = 0; d < 8; d++) {
                    if (a.items[d] != undefined) {
                        b += '<div style="width:33%;">';
                        b += '<a href="' + a.items[d]["url"] + '">';
                        b += '<div style="position:relative; margin:0 3px 12px 3px;">';
                        b += '<div class="modal27-img" style="background-image:url(' + a.items[d]["imgUrl"] + ');"></div>';
                        b += "</div>";
                        b += '<div style="font-size: 12px;color: #888;text-align: center">'+a.items[d]["title"]+'</div>';
                        b += '<div class="starts-container"><div class="left"><p class="grade-star"><span><em></em><b><i style=" width:'+a.items[d]["score"]*20+'%"></i></b></span></p></div><div class="right" style="font-size: 10px;">'+a.items[d]["score"]+'分</div></div>';
                        b += "</a>";
                        b += "</div>"
                    }
                }
                b += "</div>";
                b += "</div>"
            }
        });
    b += "</div>";
    b += "</div>";
    b += "</div>";
    return b
}
function changeCity(a) {
    $("body").bind("touchmove",
        function(b) {
            b.preventDefault()
        });
    $("#cityList").show()
}
function hideCity() {
    $("body").unbind("touchmove");
    $("#cityList").hide()
}
function setChangeCity(a) {
    var b = $(a).data("cid");
    $(".city-each.checked i").remove();
    $(".city-each").removeClass("checked");
    $(a).addClass("checked");
    $(a).append('<img src="/phone/public/images/wechat/loading2.gif" height="16">');
    doChangeCity(b)
}
function doChangeCity(a) {
    hideCity();
    $(".loading").html("正在切换城市");
    $("#loading").css("display", "inherit");
    $("#loading").css("display", "none");
    $("#loading").css("display", "none");
    window.location.href = "/phone?cid=" + a
    return false;
    if (isSubscribe == 1) {
        $.ajax({
            url: "/phone/changecity",
            type: "POST",
            dataType: "json",
            data: {
                cityId: a,
                wxoid: openId,
            },
            success: function(b) {
                $("#loading").css("display", "none");
                if (b.status == 1) {
                    window.location.href = indexUrl
                } else {
                    if (b.status == 2) {
                        window.location.href = b.url
                    } else {
                        popLayer({
                            title: "",
                            btnsName: "确认",
                            btnsCallback: "closePopLayer();",
                            content: '<div class="text-center">切换失败，请稍后再试！</div>',
                        })
                    }
                }
            }
        })
    } else {
        $("#loading").css("display", "none");
        window.location.href = "#" + a
    }
}
function parallaxScroll() {
    if ($(".modal25").length <= 0) {
        return false
    }
    var a = $(window).scrollTop() - $(".modal25").offset().top + $(window).height();
    if (a <= 0) {
        return false
    }
    if (device == 2 || device == 3) {
        var b = 0 - (a * 0.1)
    } else {
        var b = 0 - (a * 0.05)
    }
    $(".modal25-img img").each(function(e, g) {
        var h = $(this).parent().height();
        var d = $(this).height();
        var c = 0 + (d - h) / 2;
        var f = 0 - (d - h) / 2;
        if (b > f && b < c) {
            $(this).css("transform", "translate(0," + b + "px)")
        } else {
            if (b <= f) {
                $(this).css("transform", "translate(0," + f + "px)")
            } else {
                if (b >= c) {
                    $(this).css("transform", "translate(0," + c + "px)")
                }
            }
        }
    })
}
function jumpNavUrl(d) {
    var a = $(d).data("isNew");
    var c = $(d).data("url");
    if (a == 1) {
        var b = $(d).data("bid");
        $.ajax({
            url: "/wechat/v4/index/destoryredpoint",
            type: "POST",
            dataType: "json",
            data: {
                bid: b
            },
        }).done(function(e) {
            console.log(e);
            window.location.href = c
        }).fail(function() {
            window.location.href = c
        })
    } else {
        window.location.href = c
    }
};